
<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Caccia al Tesoro - Canne al Vento</title>
    <link rel="stylesheet" href="assets/leaflet.min.css" />
    <link rel="stylesheet" href="assets/leaflet-routing-machine.min.css" />
    <script src="assets/three.min.js"></script>
    <script src="assets/OrbitControls.min.js"></script>

    <link rel="stylesheet" href="assets/style.min.css?v=1.0.28">

</head>
<body>
<!-- Aggiungi un selettore di tema nell'header -->
<!--div class="theme-switcher" style="display:block;">
    <button onclick="setTheme('moderno')">
        <i class="fas fa-palette"></i> Moderno
    </button>

    <button
        onclick="setTheme('vintage')"
        data-tooltip="Tema ispirato ai colori del romanzo 'Canne al Vento'"
    >
        <i class="fas fa-book-open"></i> Letterario
    </button>

    <button onclick="setTheme('grazia_deledda')"
        data-tooltip="Tema ispirato a Grazia Deledda">
        <i class="fas fa-book-open"></i> Grazia Deledda
    </button>

</div-->


    <div class="progress">
        Targhe trovate:
        <span id="counter_progress"></span>
        /
        <span id="of_counter_progress"></span>
    </div>

    <!-- Copertina di Benvenuto -->
    <div class="welcome-cover" id="welcomeCover">
        <div class="welcome-content">

            <img src="img/logo_parco_deledda.png" alt="Canne al Vento" width="300px">
            <div class="grazia_deledda_container"> <img class="grazia_deledda_img"
                    src="img/Grazia_Deledda.png"/> </div>
            <h1 class="title">Canne al Vento</h1>
            <h2 class="subtitle">Caccia al Tesoro Letteraria</h2>
            <button id="startButton" class="start-button" onclick="startGame()">Inizia l'Avventura</button>
            <button class="action-button secondary" onclick="showInstructions()">
                Come si Gioca
            </button>
        </div>
    </div>

    <!-- Modal Istruzioni -->
    <div class="instructions-modal" id="instructionsModal">
        <h2>Come Giocare</h2>
        <ol>
            <li>Cerca le targhe nascoste nel parco</li>
            <li>Raggiungi la posizione indicata sulla mappa</li>
            <li>Completa le frasi degli estratti del libro</li>
            <li>Ascolta gli audio delle citazioni</li>
            <li>Sblocca tutte le 10 targhe per vincere!</li>
        </ol>
        <button onclick="closeInstructions()" style="margin-top: 1rem;">Chiudi</button>
        <button class="secondary" onclick="resetGame()">Resetta il gioco</button>
    </div>

<!-- Aggiungi questo dopo la copertina iniziale e prima del gioco -->
<div class="location-screen" id="locationScreen">

    <div class="location-image" id="locationImage"></div>
    <div class="location-content">
        <h2 class="location-title" id="locationTitle">Il Sentiero delle Canne</h2>
        <div class="location-description" id="locationDescription">
            <p>Cammina lungo l'antico sentiero circondato da canneti fruscianti, dove il vento racconta storie dimenticate. Cerca la targa nascosta vicino al grande ulivo secolare.</p>
        </div>
        <div class="location-actions">
            <button class="start-button" onclick="startSearch()">Cerca sulla mappa</button>
            <button class="action-button secondary" onclick="returnToHome()">Torna alla Home</button>
        </div>
    </div>
</div>

    <!--header>
        <h1>Caccia al Tesoro - Canne al Vento</h1>
    </header-->

    <div class="progress-container">
        <!--span style="color:var(--secondary-color);font-weight:bold;">
            Targhe trovate: <span id="counter">0</span>/10
        </span-->
        <button class="start-button" id="route-btn" onclick="calculateRoute()">Calcola Percorso</button>
        <!--button class="action-button" id="back-to-360-btn" onclick="returnTo360()">Torna alla Foto 360¬∞</button-->

    </div>

    <div id="map"></div>

    <div class="overlay"></div>

    <div class="modal">
        <div class="modal-header">
            <div class="modal-icon">
                <span class="treasure-icon">üèõÔ∏è</span>
            </div>
            <button class="close-btn" onclick="closeModal()">
                <span>√ó</span>
            </button>
        </div>

        <div class="modal-body">
            <div class="plaque-image-container">
                <img id="plaqueImage" src="" alt="Targa letteraria">
                <div class="image-overlay">
                    <div class="book-icon">üìñ</div>
                </div>
            </div>

            <div class="modal-content">
                <h3 class="modal-title">Completa il Brano Letterario</h3>
                <p class="modal-subtitle">Inserisci le parole mancanti dal testo di Grazia Deledda</p>

                <form id="answerForm" class="answer-form">
                    <div id="inputsContainer" class="inputs-container">
                        <!-- Gli input verranno generati dinamicamente -->
                    </div>
                    <button class="verify-btn" type="submit">
                        <span class="btn-icon">üîç</span>
                        <span class="btn-text">Verifica Risposta</span>
                        <div class="btn-ripple"></div>
                    </button>
                </form>
            </div>
        </div>

        <div class="modal-footer">
            <!--div class="progress-indicator">
                <div class="progress-dot active"></div>
                <div class="progress-dot"></div>
                <div class="progress-dot"></div>
            </div-->
        </div>
    </div>

    <div class="spinner"></div>
    <div class="toast"></div>

    <script src="assets/leaflet.js"></script>
    <script src="assets/leaflet-routing-machine.js"></script>

    <script src="assets/tour.min.js?v=1.0.28"></script>
    <script src="assets/app.min.js?v=1.0.28"></script>

</body>
</html>